import{p,n as g,r as m,P as i,Q as f,j as e,B as j,J as b,T as r,q as v,S as y}from"./index-DDKBHAyM.js";import{M as d}from"./Modal-DjufTmwy.js";const I=({openGame:x,onClose:o})=>{const a=p(),{challenger:t,challengeOpen:B,countdownOpen:s,countdown:c,loading:u}=g(n=>n.challenge);m.useEffect(()=>{if(!s)return;let n=3;a(i(n));const l=setInterval(()=>{n-=1,a(i(n)),n===0&&(clearInterval(l),a(f()),x(),o())},1e3);return()=>clearInterval(l)},[s,a]);const h=()=>{a(y())};return e.jsxs(e.Fragment,{children:[e.jsx(d,{open:t,onClose:o,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(j,{sx:{width:400,bgcolor:"background.paper",p:3,borderRadius:2,textAlign:"center",boxShadow:24,mx:"auto",my:"auto",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:u?e.jsx(b,{}):e.jsxs(e.Fragment,{children:[e.jsxs(r,{variant:"h5",sx:{fontWeight:"bold",mb:2},children:[t==null?void 0:t.username," has challenged you!"]}),e.jsxs(r,{variant:"body1",children:["Score to beat: ",e.jsx("strong",{children:t==null?void 0:t.score})]}),e.jsx(v,{onClick:h,variant:"contained",sx:{mt:2,background:"#FBBF24","&:hover":{background:"#F59E0B"}},children:"Accept Challenge"})]})})}),e.jsx(d,{open:s,sx:{display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.8)"},children:e.jsx(r,{variant:"h1",sx:{color:"#FBBF24",fontWeight:"bold"},children:c===0?"GO!":c})})]})};export{I as default};
